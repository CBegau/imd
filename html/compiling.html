
<!--#include virtual="imdhead.html" -->

<h1>Compiling</h1>

<p>
IMD is compiled with GNU make, which we call gmake in the
following. Note that on some systems, GNU make is called make.
Most other implementations of make won't work.</p>

<pre>
   gmake [EXTRAFLAGS="some flags"] imd-target
</pre>

<p>
<tt>imd-target</tt> consists of several components and has the
following structure:</p>

<pre>
   imd[_parallelization]_ensemble[_ensemble]...[_2d][_option][_option]...
</pre>

<p>
The compilation flags are set according to the $HOSTTYPE 
environement variable, must be set to one of the <a href="#hosttypes">
supported values</a> (support for further ones is easily added).
The executable is moved to directory $HOME/bin/$HOSTTYPE,
which must exist, and which should be in the current $PATH.
The EXTRAFLAGS variable can be used to define further flags
for the compiler, linker or C preprocessor. </p>

<p>
Most features of IMD must be activated with the corresponding 
compilation option in the make target. In particular, you need to 
enable the integrator (ensemble) you want to use, and possibly support 
for different interactions, if you don't want to use tabulated 
pair potentials. Most options can coexist with each other. 
In particular, it is possible to compile support for several
integrators. The active one is selected with a <a href="params.html">
parameter</a> read from the <a href="paramfile.html">parameter file</a>. 
</p>

<p>
There are a few compilation options which cannot coexist with each
other. In particular, IMD must be compiled for a fixed dimension
(default is 3d, option _2d switches to 2d) and with a fixed type
of interaction (default is tabulated pair potentials). In the
current implementation, different types of interaction cannot
coexist.</p>

<h2>Compilation Options</h2>

<p>
Most compilation options are described together with the simulation
features they enable. For details, see the corresponding chapters.
Here, we only list some general options.</p>

<h3>Parallelization options</h3>

<p>  
IMD can be compiled with the following parallelization options.
If none of these is specified, a serial executable is compiled.
</p>

<table>
<tr><td>mpi        </td> <td>parallelization with MPI            </td></tr>
<tr><td>omp        </td> <td>parallelization with OpenMP         </td></tr>
<tr><td>ompi&nbsp; </td> <td>parallelization with MPI and OpenMP </td></tr>
</table>

<h3>Programming options</h3>

<table>
<tr><td>2d           </td><td>2d simulation</td></tr>
<tr><td>single       </td><td>compile with single precision (not recommended)</td></tr>
<tr><td>mono         </td><td>compile for sample with one atom type (faster)</td></tr>
<tr><td>binary       </td><td>compile for binary sample (faster)</td></tr>
<tr><td>hpo          </td><td>enable high precision output</td></tr>
<tr><td>debug        </td><td>compile with debug support</td></tr>
<tr><td>prof         </td><td>compile with profiling support</td></tr>
<tr><td>timing&nbsp; </td><td>compile with extra timers</td></tr>
<tr><td>sr           </td><td>use sendrecv in MPI version</td></tr>
</table>

<p>
On some machines it is possible to use an alternative compiler, by specifying
its name as an option. For details, have a look at the Makefile.</p>

<a id="hosttypes" name="hosttypes">
<h2>Supported $HOSTTYPE values</h2>
</a>

<table>
<tr><td>iris4d	              </td><td>SGI, Irix             </td></tr>
<tr><td>alpha	              </td><td>DEC Alpha, Tru64 Unix </td></tr>
<tr><td>cray-t3e, t3e         </td><td>Cray T3E              </td></tr>
<tr><td>SR8000	              </td><td>Hitachi SR8000        </td></tr>
<tr><td>rs6000	              </td><td>IBM RS 6000, AIX      </td></tr>
<tr><td>i386-linux, i686&nbsp;</td><td>Intel IA32, Linux     </td></tr>
</table>

<p>Support for further values is easily added.</p>

<!--#include virtual="imdfoot.html" -->


