
<!--#include virtual="imdhead.html" -->

<h1>Output Files</h1>

<h2><a id="configurations" name="configurations">Checkpoints</a></h2>

<p>
IMD writes checkpoints in step intervals given by the parameter
<tt>checkpt_int</tt>. A checkpoint is a complete <a href="config.html">
configuration file</a>, whose name has the form
<tt>&lt;outfiles&gt;.&lt;n&gt;.chkpt</tt>, where <tt>&lt;n&gt;</tt> is
a running number.  Together with every checkpoint file, an iteration
file <tt>&lt;outfiles&gt;.&lt;n&gt;.itr</tt> is written, which
contains the current values of certain parameters, such as the current
stepnumber, box size, external temperature and external pressure. A
simulation can be <a href="usage.html">restarted</a> from every
checkpoint.  If <tt>checkpt_int</tt> is zero, no checkpoints are
written. A <a href="header.html">header</a> is prepended to the 
checkpoint file. Each header line begins with a <tt>#</tt> so that 
IMD or gnuplot will not have any problems reading such files. 
In the case of more than one processor and <tt>parallel_output</tt> 
is one the header is written to the separate file
<tt>&lt;outfiles&gt;.&lt;n&gt;.head</tt>. A single file can be
generated with <tt>catfiles.sh</tt> or <tt>catfiles.csh</tt> from the
<a href="utilities.html">utilities</a>.</p>

<h2><a id="properties" name="properties">Properties File</a></h2>

<p>
In intervals of <tt>eng_int</tt> steps, IMD writes
certain properties to a file
<tt>&lt;outfiles&gt;.eng</tt>, one line each time.
The properties written are, in this order, the current simulation
time, the potential energy per atom, the kinetic energy per atom
(which is normalized such that it is identical to the actual
system temperature), the pressure and the volume. If the
simulation ensemble is npt_axial, and the preprocessor flag PAXTEST 
is set, this is followed by the axial pressures and box dimensions.</p>

<h2><a id="distributions" name="distributions">Distributions</h2>

<p>
IMD can be directed to write out distributions of several quantities.
To compute the distribution of the kinetic energy, say, the system 
(or part of it) is divided into an array of rectangular boxes,
called bins. For each such bin, the average value of the kinetic 
energy of the atoms it contains is computed. The whole array of 
values for all bins constitutes the distribution, and is written to
a file. For other quantities, one proceeds analogously. The
writing of the distributions of all supported quantities is
controlled by the following common parameters:</p>

<table>
<tr><td>dist_int </td><td>  interval for distribution writing </td></tr>
<tr><td>dist_dim </td><td>  dimensions of distribution array  </td></tr>
<tr><td>dist_ll  </td><td>  lower left corner in user coords  </td></tr>
<tr><td>dist_ur  </td><td>  upper right corner in user coords </td></tr>
</table>

<p>
Distributions are written every <tt>dist_int</tt> timestep, 
they have dimensions <tt>dist_dim</tt>, and only atoms within
a rectangular box between the lower left corner <tt>dist_ll</tt>
and the upper right corner <tt>dist_ur</tt> are considered.
If the latter two parameters are missing, the default is to 
take the whole system, but this works only for rectangular
simulation boxes. It is stronly recommended to always specify
these parameters.</p>

<p>
In addition to these parameters, the writing of the distribution 
of each supported quantity can individually be switched on and off
with a flag, which also specifies the format in which the 
distribution is written. If the flag is 0, the distribution
is not written (default). If the flag is 1, the distribution
is written in binary floats, which is the recommended format.
A flag value of 2 means writing the distribution in ASCII with 
bin coordinates, and 3 in ASCII without bin coordinates.</p>

<p>
Currently, distributions of the following quantities are are supported:
</p>

<table>
<tr><th>Flag name             </th><th> Quantity                     </th></tr>
<tr><td>dist_Epot_flag        </td><td> potential energy             </td></tr>
<tr><td>dist_Ekin_flag        </td><td> kinetic energy               </td></tr>
<tr><td>dist_Ekin_long_flag   </td><td> longitudinal kinetic energy 
                                        (shock wave simulation)      </td></tr>
<tr><td>dist_Ekin_trans_flag  </td><td> transversal kinetic energy 
                                        (shock wave simulation)      </td></tr>
<tr><td>dist_press_flag       </td><td> scalar pressure (requires 
                                        option stress)               </td></tr>
<tr><td>dist_presstens_flag   </td><td> pressure tensor (option stress, 
                                        all components in one file)  </td></tr>
<tr><td>dist_shock_shear_flag </td><td> shear stress 
                                        (shock wave simulation)      </td></tr>
</table>

<h2><a id="disloc" name="disloc">Writing Selected Atoms</a></h2>

<p>
The option <tt>disloc</tt> allows to selectively write certain particles
to special files. These files are useful to see dislocations.</p>

<p>
A differential energy map (DEM) file consists of all particles 
for which the difference of the potential energy and a (particle
specific) <a href="options.html#disloc">reference potential energy</a>
exceeds a certain threshold <tt>min_dpot</tt>. These particles are 
written the file <tt>&lt;outfile&gt;.dem.&lt;n&gt;</tt> containing 
lines of the form
<pre>
     type x y z dE_pot.
</pre>
</p>

<p>
A displacement map (DSP) file shows the displacement of
each atom in relation to a reference configuration.  Every
<tt>dsp_int</tt><sup>th</sup> step the atoms are written to a file
<tt>&lt;outfile&gt;.dsp.&lt;n&gt;</tt>, containing lines of the form
<pre>
     type x y z dx dy dz.
</pre>
where <tt>dx</tt>, <tt>dy</tt> and <tt>dz</tt> denote the
displacement. At the step <tt>update_ort_ref</tt> (default 0), 
the current configuration is copied into the reference configuration.
This overwrites the reference configuration read from the reference
file, which can be avoided if <tt>update_ort_ref</tt> is set to
a negative value. In any case, a reference file is always read.
It must be specified in the parameter <tt>reffile</tt>. 
Each line of the reference file must describe the same atom as 
the corresponding line in the configuration file. This is
checked using the atom number.</p>

<!--#include virtual="imdfoot.html" -->
