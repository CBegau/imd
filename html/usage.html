<HTML>
<HEAD>
   <TITLE>IMD Usage</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">

<H1>Usage of IMD</H1>

After having <A HREF="compiling.html">compiled</A> IMD for the
desired target, the simulation is started as follows:
<UL>
imd_program [-rN] -p parameter_file
</UL>
The name of the IMD program is the same as the compilation target.
If the parameter -rN is present, where N is an integer number, the 
simulation is restarted from the checkpoint number N (note that 
there must be no space between -r and N). The 
<A HREF="paramfile.html">parameter file</A> contains all further
<A HREF="params.html">parameters</A> describing the simulation.
<P>
On <B>parallel computers using MPI</B>, the machine must be instructed
that a parallel process is to be run, and how many processors
are to be used. The syntax for this depends on the particular 
machine. Here are some important examples:
<P><TABLE>
<TR><TD>Cray T3E:       <TD>mpprun -n  P imd_program [-rN] -p parameter_file
<TR><TD>Intel Paragon:  <TD>isub   -sz P imd_program [-rN] -p parameter_file
<TR><TD>Paragon batch:  <TD>qsub   -lP P script, where script contains
<TR><TD>                <TD>imd_program [-rN] -p parameter_file (no isub)
<TR><TD>Hitachi:        <TD>mpirun -np P imd_program [-rN] -p parameter_file
</TABLE>
<P>
On a <B>cluster of workstations</B> where <A
HREF=http://www.bioinf.cs.uni-potsdam.de/doc/Multiprocessing/lam.html>LAM-MPI</A> is installed boot the
cluster with<BR><BR>
lamboot -v &lt;<TT>hostfile</TT>&gt;<BR><BR>
where <TT>hostfile</TT> contains lines with the hostnames of the
workstations (or their IP-addresses) that
shall be part of the cluster. Then start IMD by typing<BR><BR>
mpirun np imd_program -- -p parameter_file<BR><BR>
Here p is a list of numbers specifying the machines of the cluster
that shall be used in the simulation. For example if the whole cluster
of, say, 8 machines shall be used, select p = 0-7.
The cluster is destroyed by invoking<BR><BR>
wipe &lt;<TT>hostfile</TT>&gt;<BR><BR>
where <TT>hostfile</TT> is the same as above.
<P>
Interesting Cray T3E commands: <B>fpart</B> and <B>grmview</B> show the free partitions
and the partitioning of the machine.

<P>
<A HREF="imd.html">Back to IMD User's Guide</A> 

</BODY>
</HTML>

