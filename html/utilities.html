<HTML>
<HEAD>
   <TITLE>IMD Utilities</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">

<H1>IMD Utilities</H1>

The following utility programs can be found in the <B>imd-utils</B> 
directory.

<A NAME="imd2ppm">
<H2>imd2ppm</H2>
</A>

imd2ppm converts <A HREF="config.html">IMD configuration files</A> 
or special <A HREF="pictures.html">.pic files</A> of 2D binary 
tiling quasicrystals into ppm bitmaps, where each atom is drawn as 
a disk of appropriate radius. Compilation goes as follows: 
<PRE>
    gcc -O [-DEPOT] [-DASCII] imd2ppm.c -lm
</PRE>
If compiled with <TT>-DASCII</TT>, imd2ppm expects 
<A HREF="config.html">IMD configuration files</A> as input,
otherwise the special, binary <A HREF="pictures.html">.pic files</A>.
If compiled with <TT>-DEPOT</TT>, the potential energy of each
atom is used for the coloring, otherwise the kinetic energy is used.
Usage is as follows:
<PRE>
    imd2ppm infile E_min E_max x0 y0 width height width_pix height_pix
</PRE>
The parameters are, in this order, the input file, the lower and
upper energy treshold for the coloring, x and y coordinates of the
lower left corner of the image, width and height of the image in
user coordinates, and width and height of the image in pixels
(resolution). The output files are called <TT>&lt;infile&gt;.kin.ppm</TT>
or <TT>&lt;infile&gt;.pot.ppm</TT>, depending on whether the flag 
<TT>-DEPOT</TT> was used or not.
<P>
If the option <B>disloc</B> is used, the difference of the actual 
potential energy and a reference potential energy of each atom 
is written to the configuration files and .pic files, and so this 
difference is used for the coloring.

<A NAME="imd_dist2pgm">
<H2>imd_dist2pgm.perl</H2> 
</A>

Converts <A HREF="output.html#distributions">energy distribution files</A>
to gray maps. If you find out how exactly this works, please report!
Not clear whether this still works with the current distribution file
format!

<A NAME="imd_mklj">
<H2>imd_mklj.c</H2>
</A>

Computes a Lennard-Jones-potential table for configurations containing
two types of atoms. 
It prompts for the following input parameters:
<P>
<STRONG>Ausgabedatei:</STRONG> Name of potential table file<BR>
<STRONG>Radius Anf. :</STRONG> Lowest value of atomic distance<BR>
<STRONG>Radius Ende :</STRONG> Largest value of atomic distance<BR>
<STRONG>Zahl Schritte:</STRONG> Number of steps in table<BR>
<STRONG>Exponent   p:</STRONG> Exponent of the repulsive part<BR>
<STRONG>Exponent   q:</STRONG> Exponent of the attractive part<BR>
<STRONG>Energie11   :</STRONG> Energy between particle of type 1 and
type 1<BR>
<STRONG>Energie22   :</STRONG> Energy between type 2 and
type 2<BR>
<STRONG>Energie12   :</STRONG> Energy between type 1 and
type 2<BR>
<STRONG>Sigma11     :</STRONG> Nearest-Neighbour-distance between
type 1 and type 1<BR>
<STRONG>Sigma22     :</STRONG> Nearest-Neighbour-distance between
type 2 and type 2<BR>
<STRONG>Sigma21     :</STRONG> Nearest-Neighbour-distance between
type 1 and type 2<BR>
 
<A NAME="imd_pair">
<H2>imd_pair.c</H2>
</A>

Computes radial distribution histograms. Compile as follows:
<PRE>
    gcc -O [-DTWOD] [-DSLOTS=&lt;nnn&gt;] [-DSINGLE] imd_pair.c -lm
</PRE>
Default is a program for 3D, but if the flag <TT>-DTWOD</TT> is 
present, a program for 2D is compiled. With the flag 
<TT>-DSLOTS=&lt;nnn&gt;</TT>, the number of slots in the histogram
can be chosen. The default is 1000. The flag <TT>-DSINGLE</TT> 
produces a binary using floats instead of doubles.
<P>
imd_pair produces radial distribution histograms from IMD
configuration files (or checkpoints). Usage is as follows:
<PRE>
    imd_pair [-r&lt;nn&gt;] [-a&lt;rmin&gt;] [-e&lt;rmax&gt;] -p &lt;paramfile&gt;
</PRE>
The parameter <TT>paramfile</TT> is mandatory. imd_pair reads the
box size, the number of atom types, and the names of the configuration
and checkpoint files from it. Also read is the parameter pbc_dirs,
which determines (like in IMD) what boundary conditions are 
used. The default is to use periodic boundary conditions.
If the restart parameter
<TT>-r&lt;nn&gt;</TT> is present, imd_pair takes the checkpoint
file <TT>&lt;outfiles&gt;.&lt;nn&gt;</TT> as input, and
reads also the corresponding iteration file. Otherwise, 
the input configuration <TT>&lt;coordname&gt;</TT> of the
simulation described by <TT>paramfile</TT> is used as input.
The output file name of imd_pair is the input file name, 
but with <TT>.pair</TT> appended.
<P>
The parameters <TT>-a&lt;rmin&gt;</TT> and <TT>-e&lt;rmax&gt;</TT>
specify the minimal and maximal radius in the histogram.
They default to 0.0 and 5.0, respectively. For every slot in the
histogram, one line is written:
<PRE>
    r d_00 d_01 ... d_0N d_11 ... d_NN f_00 f_01 ... f_0N f_11 ... f_NN 
</PRE>
where <TT>r</TT> is the radius, <TT>N</TT> is <TT>ntypes-1</TT>, 
<TT>d_ij</TT> is the number of times the distances <TT>r</TT> occurs 
between atoms of types <TT>i</TT> and <TT>j</TT>, devided by <TT>natoms</TT>,
and <TT>f_ij = d_ij/(4*pi*r^2)</TT> is a normalized radial
distribution.

<A NAME="imd_angle">
<H2>imd_angle.c</H2>
</A>
Computes angular distribution histograms. The usage is similar to
imd_pair.c. Compile as follows:
<PRE>
    gcc -O [-DTWOD] [-DSLOTS=&lt;nnn&gt;] [-DSINGLE] imd_angle -lm
</PRE>
Default is a program for 3D, but if the flag <TT>-DTWOD</TT> is 
present, a program for 2D is compiled. With the flag 
<TT>-DSLOTS=&lt;nnn&gt;</TT>, the number of slots in the histogram
can be chosen. The default is 1000. <TT>-DSINGLE</TT>
produces a binary using floats instead of doubles.
<P>
imd_angle produces angular distribution histograms from IMD
configuration files (or checkpoints). Usage is as follows:
<PRE>
    imd_angle [-r&lt;nn&gt;] [-e&lt;rmax&gt;] -p &lt;paramfile&gt;
</PRE>
The parameter <TT>paramfile</TT> is mandatory. imd_angle reads the
box size, the number of atom types, and the names of the configuration
and checkpoint files from it. Also read is the parameter pbc_dirs,
which determines (like in IMD) what boundary conditions are 
used. The default is to use periodic boundary conditions.
If the restart parameter
<TT>-r&lt;nn&gt;</TT> is present, imd_angle takes the checkpoint
file <TT>&lt;outfiles&gt;.&lt;nn&gt;</TT> as input, and
reads also the corresponding iteration file. Otherwise, 
the input configuration <TT>&lt;coordname&gt;</TT> of the
simulation described by <TT>paramfile</TT> is used as input.
The output file name of imd_angle is the input file name, 
but with <TT>.angle</TT> appended.
<P>
The parameter <TT>-e&lt;rmax&gt;</TT> specifies the maximal radius for
which angles between neighbouring atoms are computed. The default is
1.0. For every slot in the histogram, one line is written:
<PRE>
    phi g_000 g_001 ... g_00N g_011 ... g_01N ... g_0NN g_100 ... g_NNN
</PRE>
where <TT>phi</TT> is the angle with range [0,180], <TT>N</TT> is
<TT>ntypes-1</TT>, and <TT>g_ijk</TT> is the normalized number of times the angle
<TT>phi</TT> occurs between the atoms of type <TT>i</TT>, <TT>j</TT>,
and <TT>k</TT> where the angle is centered at <TT>i</TT>. <TT>g_ijk</TT>
is normalized with respect to the total number of angles computed.
In the case of 2 types of particles, for example, the histogram has the
following format:
<PRE>
    phi g_000 g_001 g_011 g_100 g_101 g_111
</PRE>

<A NAME="procdata">
<H2>procdata.c</H2>
</A>

Procdata converts configuration files between different formats.
It can also be used to cut out parts of a configuration, rotate
a configuration, or to stack configurations periodically.
<P>
The online help of procdata says:

<PRE>
Usage: procdata [-i{format}] [-f{format}] inputfile outputfile

-i0 reads IMD or VVMD data format (default)
-i1 reads modifti.f/tiunmodif.f output format
-f0 converts to MOLPIC format (for molgraph, default)
-f1 converts to PDB format (for rasmol)
-f2 converts to IMD format
-k keeps previous numbers (default: sort and begin from 1
-fRDF calculates radial distribution function
-Cxmin limit   cuts off atoms with x<limit
-Cxmax limit   cuts off atoms with x>limit
-Cymin limit   cuts off atoms with y<limit
-Cymax limit   cuts off atoms with y>limit
-Czmin limit   cuts off atoms with z<limit
-Czmax limit   cuts off atoms with z>limit
-Sz zincr n    stacks the structure in z-direction n times with increment zincr
                (used for generation of 2D-quasiperiodic structures)
-Rx phi   rotate by angle phi around x-axis
-Ry phi   rotate by angle phi around y-axis
-Rz phi   rotate by angle phi around z-axis
very special options are: (see source code)
-RAlCuCo -CAlCuCo  rotates AlCuCo approximant
and cuts out a rectangular piece (for approx2.inp)
</PRE>
<P>

<A HREF="imd.html">Back to IMD User's Guide</A> 

</BODY>
</HTML>