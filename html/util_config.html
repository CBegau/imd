<!--#include virtual="imdhead.html" -->

<h1>Configuration File Postprocessing</h1>

<p>
For the postprocessing of IMD configuration files, IMD contains a group
of utility programs with a common usage model:
</p>

<table align="center" border="0" cellpadding="4" >

<tr align="left">
  <td width="180"><a href="#imd_angle">imd_angle</a></td>
  <td width="180"><a href="#imd_conn">imd_conn</a></td>
  <td width="180"><a href="#imd_coord">imd_coord</a></td>
  <td width="180"><a href="#imd_elco">imd_elco</a></td>
</tr>
<tr align="left"> 
  <td width="180"><a href="#imd_pair">imd_pair</a></td> 
  <td width="180"><a href="#imd_ps">imd_ps</a></td>
  <td width="180"><a href="#imd_ring">imd_ring</a></td>
  <td width="180"><a href="#imd_strain">imd_strain</a></td>
</tr>
<tr align="left"> 
  <td width="180"><a href="#imd_stress">imd_stress</a></td>
  <td width="180"><a href="#imd_torsion">imd_torsion</a></td>
</tr>
</table>

<p>


These programs are compiled as
follows: 

<pre>
   gmake imd_utility[_option][_2d]
</pre>
where <tt>utility</tt> is the name of the program. Some programs 
support further options which can be appended to the compilation target
with the component <tt>_option</tt>. By default, a program for 3d
is compiled. Most programs support 2d versions which can be compiled
using the additional component <tt>_2d</tt> in the compilation target.

<p>

The programs are run by giving the program name and one or more command line 
options. The following options are supported by <b>all</b> utility programs.

<p>

<table border="0" cellspacing="10" cellpadding="3">
<tr>
   <th>Option</th>
   <th>Values</th>
   <th>Default</th>
   <th>Description</th>
</tr>
<tr valign="top">
   <td align="center"><b>-p</b></td>
   <td align="center"><tt>parameter_file</tt></td>
   <td align="center">-</td>
   <td>Specifies the IMD <u>parameter file</u>. 
	This option is <b>mandatory</b>.</td>
</tr>
<tr valign="top">
   <td align="center"><b>-r</b></td>
   <td align="center">integer &gt;= 0</td>
   <td align="center">-</td>
   <td>Specifies the <u>restart parameter</u>. The corresponding 
   checkpoint file is chosen as input file and also the iteration 
   file is read in. If this parameter is not present, the file 
   specified by the IMD paramter 
   <tt>coordname</tt> is taken as input file.</td>
</tr>
<tr valign="top">
   <td align="center"><b>-A</b></td>
   <td align="center">integer &gt;= 0</td>
   <td align="center">-</td>
   <td>The corresponding avpos outfile is chosen as input file and also
   the avpos iteration file is read in.</td>
</tr>
<tr valign="top">
   <td align="center"><b>-v</b></td>
   <td align="center">-</td>
   <td align="center">-</td>
   <td>All virtual types are treated as being different. In this case, the
   number of types <tt>N</tt> is <tt>vtypes-1</tt>. If this option is not
   used, all atom types are taken modulo <tt>ntypes</tt>, the number of 
   different real atom types, and <tt>N</tt> equals <tt>ntypes-1</tt>.</td>
</tr>
</table>

<p>

Most of the programs produce output files. The name of these output files are
the names of the input files with program specific suffixes. If checkpoint 
files are used as input files, the suffix <tt>.chkpt</tt> is omitted.

<p>

<a name="imd_angle">
<h2>imd_angle</h2>
</a>

Computes angular distribution histograms of IMD configurations.

<p>

The following special options can be used:

<table border="0" cellspacing="10" cellpadding="3">
<tr>
   <th>Option</th>
   <th>Values</th>
   <th>Default</th>
   <th>Description</th>
</tr>
<tr valign="top">
   <td align="center"><b>-n</b></td>
   <td align="center">integer &gt; 0</td>
   <td align="center">1000</td>
   <td>Specifies the <u>number of slots</u> in the angular distribution 
   histogram.</td>
</tr>
<tr valign="top">
   <td align="center"><b>-e</b></td>
   <td align="center">real &gt; 0.0</td>
   <td align="center">1.0</td>
   <td>Specifies the <u>maximal radius</u> for which angles between 
	neighbouring atoms are computed.</td>
</tr>
<tr valign="top">
   <td align="center"><b>-a</b></td>
   <td align="center">real &gt;= 0.0</td>
   <td align="center">0.0</td>
   <td>Specifies the <u>minimal radius</u> for which angles between 
	neighbouring atoms are computed.</td>
</tr>
</table>

<p>

The output file name of <b>imd_angle</b> has the suffix <tt>.angle</tt>.
For every slot in the histogram, one line is written:
<PRE>
    phi g_000 g_001 ... g_00N g_011 ... g_01N ... g_0NN g_100 ... g_NNN
</PRE>
The first entry <TT>phi</TT> is the angle with range [0,180], and the 
remaining entries are the histogram values for the different 
combinations of atom types. The histogram entry
<TT>g_ijk</TT> is the normalized number of times the angle
<TT>phi</TT> occurs between the atoms of type <TT>i</TT>, <TT>j</TT>,
and <TT>k</TT> where the angle is centered at <TT>i</TT>. <TT>g_ijk</TT>
is normalized with respect to the total number of angles computed.
In the case of 2 types of particles, for example, the histogram has the
following format:
<pre>
    phi g_000 g_001 g_011 g_100 g_101 g_111
</pre>

<p>

<a name="imd_conn">
<h2>imd_conn</h2>
</a>
Computes the connection matrix. 
<p>
The following special option can be used:

<table border="0" cellspacing="10" cellpadding="3">
<tr>
   <th>Option</th>
   <th>Values</th>
   <th>Default</th>
   <th>Description</th>
</tr>
<tr valign="top">
   <td align="center"><b>-n</b></td>
   <td align="center">integer &gt; 0</td>
   <td align="center">10</td>
   <td>Specifies the maximal number of neigbours.</td>
</tr>
</table>

<p>

<a name="imd_coord">
<h2>imd_coord</h2>
</a>

Computes coordination numbers of IMD configurations. <b>imd_coord</b>
needs the specification of cutoff radii for the atom types. If the
component <b>_tersoff</b> is used in the compilation target, the
cutoff radii for the Tersoff potential are taken from the parameter
file and the coordination numbers are computed slightly differently
(see below).

<p>

<b>imd_coord</b> writes two tables to standard output. The first table
contains the relative occurences <tt>c_ij</tt> of bonds between atoms
of type <i>i</i> and <i>j</i>. It has the following format:
<pre>
 Bond  Occurence

   00    c_00
   01	 c_01
   
      ...

   0N    c_0N
   10    c_10

      ...

   NN    c_NN
</pre>

<p>

The second table contains the occurences <tt>occ_i</tt> in percent of
the coordination number <tt>i</tt> up to the coordination number
<tt>cmax</tt>. It has the format

<pre>
 Coordination  Occurence

      0          occ_0
      1	         occ_1

           ...

     cmax        occ_cmax
</pre>

<p>

The following special options can be used:

<table border="0" cellspacing="10" cellpadding="3">
<tr>
   <th>Option</th>
   <th>Values</th>
   <th>Default</th>
   <th>Description</th>
</tr>
<tr valign="top">
   <td align="center"><b>-e</b></td>
   <td align="center">real &gt; 0</td>
   <td align="center">1.0</td>
   <td>Cutoff radius. Specifies the <u>maximal distance</u> for which 
   neighbouring atoms are taken into account.</td>
</tr>
<tr valign="top">
   <td align="center"><b>-a</b></td>
   <td align="center">real&nbsp;&gt;=&nbsp;0</td>
   <td align="center">0.0</td>
   <td>Specifies the <u>minimal distance</u> for which neighbouring atoms 
   are taken into account. Does not work if the Tersoff
   potential used.</td>
</tr>
<tr valign="top">
   <td align="center"><b>-C</b></td>
   <td align="center">integer &gt; 0</td>
   <td align="center">10</td>
   <td>Specifies the <u>maximal coordination number</u> <tt>cmax</tt> 
   the occurence of which is computed and written to standard 
   output.</td>
</tr>
<tr valign="top">
   <td align="center"><b>-g</b></td>
   <td align="center">-</td>
   <td align="center">-</td>
   <td>Write the table of the occurences of the coordination numbers 
   into a file with suffix <tt>.gcoord</tt>.</td>
</tr>
<tr valign="top">
   <td align="center"><b>-l</b></td>
   <td align="center">-</td>
   <td align="center">-</td>
   <td>Write the local coordination numbers for each atom
   into a file with suffix <tt>.coord</tt>. The output
   format is
   <pre>
       n type x y (z) c_tot c_0 c_1 ... c_N
   </pre>
   where <tt>n</tt> is the atom number, <tt>type</tt> is the type of the
   atom, <tt>x,y,(z)</tt> are the coordinates of the atom, <tt>c_tot</tt>
   is the total coordination number, and <tt>c_i</tt> is the coordination
   number corresponding to neighbour atoms of type <tt>i</tt>.</td>
</tr>
<tr valign="top">
   <td align="center"><b>-E</b></td>
   <td align="center">-</td>
   <td align="center">-</td>
   <td>Write the potential energy into the file <tt>.coord</tt>. This 
   option works only in conjunction with the option <b>-l</b>. 
   The output format is
   <pre>
       n type x y (z) c_tot c_0 c_1 ... c_N E_pot
   </pre></td>

<tr valign="top">
   <td align="center"><b>-u</b></td>
   <td align="center">-</td>
   <td align="center">-</td>
   <td>Set the cutoff function <I>f<SUB>c</SUB></I> of the Tersoff potential 
   equal to unity within the cutoff radius (see below).</td>
</tr>
</table>

<p>

If <b>imd_coord</b> is compiled with the <b>_tersoff</b> component, 
the value of
<tt>rmax</tt> is computed from the cutoff parameters of the Tersoff
potential. Furthermore, the coordination numbers
<i>N<sub>i</sub><sup>X</sup></i> are computed by default as
<p>
<center>
<img src="coord.gif" alt="coordination number"><br><p>
</center>
<p>
where the sum is over all neighbour atoms <i>j</i> of atom <i>i</i>
with type <i>X</i> and <i>f<sub>c</sub></i> is the cutoff function of
the Tersoff potential. 

<p>

<a name="imd_elco">
<h2>imd_elco</h2>
</a>

Computes the stress tensor, the tensor of the elastic moduli, and the
pressure derivative of the bulk modulus of IMD configurations using
the interatomic potentials. 

<p>

The following potentials are currently supported:
<ul>
   <li>Tabulated pair potentials. This is the default.<p>
   <li>EAM potentials. In this case, the component <b>_eam</b> has
       to be used in the compilation target.<p>	
   <li>Many-body potentials. If the components <b>_tersoff</b>, 
       <b>_stiweb</b>, or <b>_keating</b> are used in the compilation
       target, the Tersoff, the Stillinger-Weber, or the Keating
       potential are used, respectively. Many-body potentials only work
       in 3d.
</ul>

<p>

By default, <b>imd_elco</b> computes the global stress tensor
<tt>sigma_ij</tt>, the global tensor of the elastic moduli
<tt>c_ab</tt>, and the global pressure derivative of the bulk modulus
<tt>B'</tt>. These values are written to standard output along with
the atom number <tt>N</tt> , the total volume <tt>V</tt>, the volume
per atom <tt>v</tt>, the potential energy <tt>E</tt>, the total bulk
modulus <tt>B</tt> and the pressure <tt>p</tt>.

<p>

<b>imd_elco</b> assumes that eV and &Aring; are used as units of
energy and length. The output data are written in these units and GPa
for convenience. If other units are used, the units eV and &Aring; should
be ignored.

<p>

The following special options can be used:

<table border="0" cellspacing="10" cellpadding="3">
<tr>
   <th>Option</th>
   <th>Values</th>
   <th>Default</th>
   <th>Description</th>
</tr>
<tr valign="top">
   <td align="center"><b>-s</b></td>
   <td align="center">-</td>
   <td align="center">-</td>
   <td>Write the <u>local stress tensor</u> to a file with suffix 
   <tt>.stress</tt>. The output format is 
   <pre>
   number type x y z s_xx s_yy s_zz \
   s_yz s_zx s_xy vol_voronoi  
   </pre>
   where <tt>number</tt> is the atom number, <tt>type</tt> is the atom
   type, <tt>x,y,z</tt> are the coordinates of the atoms, <tt>s_ij</tt>
   are the components of the stress tensor, and <tt>vol_voronoi</tt> is
   the volume of the Voronoi cell. The stress tensor is normalized with
   the volume of the Voronoi cell of the corresponding atom.</td>
</tr>
<tr valign="top">
   <td align="center"><b>-e</b></td>
   <td align="center">real &gt; 0</td>
   <td align="center">1.0</td>
   <td>Specifies the <u>maximal distance</u> for which 
   neighbouring atoms are taken into account in the computation of the
   Voronoi cells. It should be larger than the potential cutoff. This 
   option is only needed in conjunction with the options <b>-s</b>, 
   <b>-m</B>, or <b>-M</B>.</td>
</tr>
<tr valign="top">
   <td align="center"><b>-m</b></td>
   <td align="center">-</td>
   <td align="center">-</td>
   <td>Write the local elastic moduli to a file with suffix
   <tt>.elco</tt>. The output format is
   <pre>
   number type x y z B c_11 c_12 c_44
   </pre>
   The elastic moduli are normalized using the volumes of the 
   Voronoi cells.</td>
</tr>
<tr valign="top">
   <td align="center"><b>-M</b></td>
   <td align="center">-</td>
   <td align="center">-</td>
   <td>Write the complete tensor of the local elastic moduli to a 
   file with suffix <tt>.elco</tt>. The output format is
   <pre>
   number type x y z B \
   c_11 c_12 c_13 c_22 c_23 c_33 \
   c_44 c_45 c_46 c_55 c_56 c_66 \
   c_14 c_15 c_16 c_24 c_25 c_26 c_34 c_35 c_36
   </pre></td>
</tr>
</table>

<p>

<a name="imd_pair">
<h2>imd_pair</h2>
</a>

Computes radial distribution histograms of IMD configurations.

<p>

The following special options can be used:

<table border="0" cellspacing="10" cellpadding="3">
<tr>
   <th>Option</th>
   <th>Values</th>
   <th>Default</th>
   <th>Description</th>
</tr>
<tr>
   <td align="center"><b>-n</b></td>
   <td align="center">integer &gt; 0</td>
   <td align="center">1000</td>
   <td>Specifies the <u>number of slots</u> in the pair distribution 
   histogram.</td>
</tr>
<tr>
   <td align="center"><b>-a</b></td>
   <td align="center">real &gt;= 0.0</td>
   <td align="center">0.0</td>
   <td>Specifies the <u>minimal radius</u> in the histogram.</td>
</tr>
<tr>
   <td align="center"><b>-e</b></td>
   <td align="center">real &gt; 0.0</td>
   <td align="center">5.0</td>
   <td>Specifies the <u>maximal radius</u> in the histogram.</td>
</tr>
</table>

For every slot in the
histogram, one line is written:
<pre>
    r d_00 d_01 ... d_0N d_11 ... d_NN f_00 f_01 ... f_0N f_11 ... f_NN 
</pre>
The first entry <TT>r</TT> is the radius, the remaining entries are
the histogram values for the different combinations of atom types.
The histogram entry <TT>d_ij</TT> is the number of times the distance
<TT>r</TT> occurs between atoms of types <TT>i</TT> and <TT>j</TT>,
devided by the total number of atoms, and <TT>f_ij =
d_ij/(4*pi*r^2)</TT> is a normalized radial distribution.
 
<p>

<a name="imd_ps">
<h2>imd_ps</h2>
</a>

Creates (vector) PostScript files from IMD configurations. 

<p>

<b>imd_ps</b> produces ball and stick visualizations of 
IMD configuration files. For the drawing of the bonds,
cutoff radii for all atom types have to be given in the 
parameter file by the parameters <tt>r_cut</tt>
or <tt>ters_r_cut</tt>. Alternatively, the option <b>-e</b>
can be used.

<p>

The geometrical setup of the projection (3d) is shown in the following
figure.

<p>

<center>
<img src="imd_ps.png" alt="projection">
</center>

<p>
<b>imd_ps</b> allows many optional parameters affecting the
visualization (Grey background means that the option is available
only in the 3d version):
<p>

<table border="0" cellpadding="3" CELLSPACING="10">

<tr>
   <th>Option</th>
   <th>Values</th>
   <th>Default</th>
   <th>Description</th>
</tr>

<tr valign="top">
   <td align="center"><b>-a</b></TD>
   <td align="center">0,1</td>
   <td align="center">0</td>
   <td>Draw <u>coordinate axes</u>. The axes are drawn into the bounding
   box of the unrotated system (option&nbsp;<b>-u</b>) or the simulation box
   (option&nbsp;<b>-o</b>). The <i>x</i> axis is red, 
   the <i>y</i> axis is yellow, and the <i>z</i> axis (3D only) is green.
 </td>
</tr>

<tr valign="top">
   <td align=center><b>-b</b></td>
   <td align="center">real, [-1,1]</td>
   <td align="center">-0.3</td>
   <td>Brightness of bond colors. Positive values mean bright colors and
   negative values mean dark colors.</td>
</tr>

<tr valign="top">
   <td align="center"><b>-B</b></td>
   <td>real, >= 0.0</td>
   <td align="center">estimated</td>
   <td>Radius of cylinders representing bonds in real (IMD) units. 
   The value of <b>-B</b> must be smaller than the value of <b>-R</b>. 
   </td>
</tr>

<tr valign="top">
   <td align=center><b>-c</b></TD>
   <td>real, >= 0.0</td>
   <td align="center">20</td>
   <td>Boundary strip around bounding box (in pt).</td>
</tr>

<TR VALIGN=TOP><TD ALIGN=CENTER><b>-C</b></TD>
<TD ALIGN=CENTER>integer</TD>
<TD ALIGN=CENTER>1</TD>
<TD>Color of atoms. Negative numbers produce greyscales.
The value 0 corresponds to white. <B>imd_ps</B> predefines 9 different 
colors represented by integers as follows:<p>
<TABLE BORDER=1 CELLPADDING=4>
<TR>
<TD BGCOLOR=#FF0000 WIDTH=15 ALIGN=CENTER>1</TD>
<TD BGCOLOR=#FFFF00 WIDTH=15 ALIGN=CENTER>2</TD>
<TD BGCOLOR=#00FF00 WIDTH=15 ALIGN=CENTER>3</TD>
<TD BGCOLOR=#0000FF WIDTH=15 ALIGN=CENTER><FONT COLOR=WHITE>4</TD>
<TD BGCOLOR=#FF00FF WIDTH=15 ALIGN=CENTER>5</TD>
<TD BGCOLOR=#00FFFF WIDTH=15 ALIGN=CENTER>6</TD>
<TD BGCOLOR=#FFB333 WIDTH=15 ALIGN=CENTER>7</TD>
<TD BGCOLOR=#B3B3B3 WIDTH=15 ALIGN=CENTER>8</TD>
<TD BGCOLOR=#FFFFFF WIDTH=15 ALIGN=CENTER>9</TD>
</TR>
</TABLE><P>
The option <b>-C</b> allows positive integer values with up to 9 
figures which denote 
the colors of atom types 0,1,2,.... The default colors correspond 
to the value 123456789.<br>
For negative values, the encoding is similar, where 9 greyscales 
are available with the values<p>

<table border=1 cellpadding=4>
<TR>
<TD BGCOLOR=#FFFFFF WIDTH=15 ALIGN=CENTER>1</TD>
<TD BGCOLOR=#808080 WIDTH=15 ALIGN=CENTER><FONT COLOR=WHITE>2</TD>
<TD BGCOLOR=#CDCDCD WIDTH=15 ALIGN=CENTER>3</TD>
<TD BGCOLOR=#4D4D4D WIDTH=15 ALIGN=CENTER><FONT COLOR=WHITE>4</TD>
<TD BGCOLOR=#E6E6E6 WIDTH=15 ALIGN=CENTER>5</TD>
<TD BGCOLOR=#666666 WIDTH=15 ALIGN=CENTER><FONT COLOR=WHITE>6</TD>
<TD BGCOLOR=#B3B3B3 WIDTH=15 ALIGN=CENTER>7</TD>
<TD BGCOLOR=#333333 WIDTH=15 ALIGN=CENTER><FONT COLOR=#FFFFFF>8</FONT></TD>
<TD BGCOLOR=#000000 WIDTH=15 ALIGN=CENTER><FONT COLOR=#FFFFFF>9</FONT></TD>
</TR>
</TABLE>
</TD></TR>

<TR VALIGN=TOP BGCOLOR=LIGHTGREY><TD ALIGN=CENTER><b>-d</b></TD>
<TD>real, [0,1]</TD>
<TD ALIGN=CENTER>0</TD>
<TD>Brightness of atom and bond colors with depth. 1 corresponds to
black atoms and bonds in the background, 0 means the same colors
for all atoms and bonds.</TD></TR>

<TR VALIGN=TOP><TD ALIGN=CENTER><b>-D</b></TD>
<TD ALIGN=CENTER>integer, >=0</TD>
<TD ALIGN=CENTER>0</TD>
<TD>Represent types of atoms by different radii of the spheres. As in
the case of the atom colors given by the parameter <b>-C</b>, the
association of atom types with sphere radii is done by an integer with
up to 9 figures. The encoding is given by the following table:<P>
<TABLE BORDER=1 CELLPADDING=4>
<TR>
<TD WIDTH=15 ALIGN=CENTER>1</TD>
<TD WIDTH=15 ALIGN=CENTER>2</TD>
<TD WIDTH=15 ALIGN=CENTER>3</TD>
<TD WIDTH=15 ALIGN=CENTER>4</TD>
<TD WIDTH=15 ALIGN=CENTER>5</TD>
<TD WIDTH=15 ALIGN=CENTER>6</TD>
<TD WIDTH=15 ALIGN=CENTER>7</TD>
<TD WIDTH=15 ALIGN=CENTER>8</TD>
<TD WIDTH=15 ALIGN=CENTER>9</TD>
</TR>
<TR>
<TD WIDTH=15 ALIGN=CENTER>1</TD>
<TD WIDTH=15 ALIGN=CENTER>1/2</TD>
<TD WIDTH=15 ALIGN=CENTER>3/4</TD>
<TD WIDTH=15 ALIGN=CENTER>1/4</TD>
<TD WIDTH=15 ALIGN=CENTER>5/8</TD>
<TD WIDTH=15 ALIGN=CENTER>3/8</TD>
<TD WIDTH=15 ALIGN=CENTER>7/8</TD>
<TD WIDTH=15 ALIGN=CENTER>1/8</TD>
<TD WIDTH=15 ALIGN=CENTER>0</TD>
</TR>
</TABLE><P>
The second row gives the radii of the atoms in units of the largest
radius specified by the parameter <b>-R</b>. In the case of the
number 9 corresponding to the radius 0, no atoms of the corresponding
type are drawn and the bonds of this type are also omitted.
</TD></TR>

<tr valign="top">
   <td align="center"><b>-e</b></td>
   <td align="center">real > 0.0</td>
   <td align="center">1.0</td>
   <td>Specifies the maximal distance for which 
   neighbouring atoms are taken into account in the drawing of bonds.
   Only works, if no cutoff length is given in the parameter file.</td>
</tr>

<TR VALIGN=TOP><TD ALIGN=CENTER><b>-E</b></TD>
<TD>integer</TD>
<TD ALIGN=CENTER>-</TD>
<TD>Color encoding of the potential energy as specified in the 10th
column of an IMD configuration file. The value of <b>-E</b> determines the
colors used in the encoding. Each figure of <b>-E</b> corresponds to
a color as given in the following table:<P>
<TABLE BORDER=1 CELLPADDING=4>
<TR>
<TD BGCOLOR=#4C4C4C WIDTH=15 ALIGN=CENTER><FONT COLOR=WHITE>1</FONT></TD>
<TD BGCOLOR=#FF0000 WIDTH=15 ALIGN=CENTER>2</TD>
<TD BGCOLOR=#00FF00 WIDTH=15 ALIGN=CENTER>3</TD>
<TD BGCOLOR=#0000FF WIDTH=15 ALIGN=CENTER><FONT COLOR=WHITE>4</FONT></TD>
<TD BGCOLOR=#00FFFF WIDTH=15 ALIGN=CENTER>5</TD>
<TD BGCOLOR=#FF00FF WIDTH=15 ALIGN=CENTER>6</TD>
<TD BGCOLOR=#FFFF00 WIDTH=15 ALIGN=CENTER>7</TD>
<TD BGCOLOR=#FFFFFF WIDTH=15 ALIGN=CENTER>8</TD>
</TR>
</TABLE><P>
The sequence of figures in <TT>E</TT> then corresponds to a path in
the rgb cube which is used to color encode the potential energy from
the lowest energy to the highest energy. If only one positive figure
is given, a path with two colors is taken where the second color is white.
Negative numbers correspond to
preselected paths as follows:<P>
<TABLE BORDER=1 CELLPADDING=4>
<TR><TH>Value of <TT>E</TT></TH><TH colspan=10>Color path</TH></TR>
<TR><TD>-1</TD>
<TD BGCOLOR=#FF0000 WIDTH=15 ALIGN=CENTER>2</TD>
<TD BGCOLOR=#FFFF00 WIDTH=15 ALIGN=CENTER>7</TD>
<TD BGCOLOR=#00FF00 WIDTH=15 ALIGN=CENTER>3</TD>
<TD BGCOLOR=#00FFFF WIDTH=15 ALIGN=CENTER>5</TD>
<TD BGCOLOR=#0000FF WIDTH=15 ALIGN=CENTER><FONT COLOR=WHITE>4</FONT></TD>
<TD BGCOLOR=#FF00FF WIDTH=15 ALIGN=CENTER>6</TD>
</TR>
<TR><TD>-2</TD>
<TD BGCOLOR=#FF0000 WIDTH=15 ALIGN=CENTER>2</TD>
<TD BGCOLOR=#FFFF00 WIDTH=15 ALIGN=CENTER>7</TD>
<TD BGCOLOR=#FFFFFF WIDTH=15 ALIGN=CENTER>8</TD>
</TR>
<TR><TD>-3</TD>
<TD BGCOLOR=#FF0000 WIDTH=15 ALIGN=CENTER>2</TD>
<TD BGCOLOR=#FFFFFF WIDTH=15 ALIGN=CENTER>8</TD>
<TD BGCOLOR=#00FFFF WIDTH=15 ALIGN=CENTER>5</TD>
<TD BGCOLOR=#0000FF WIDTH=15 ALIGN=CENTER><FONT COLOR=WHITE>4</TD>
</TR>
<TR><TD>-4</TD>
<TD BGCOLOR=#FF0000 WIDTH=15 ALIGN=CENTER>2</TD>
<TD BGCOLOR=#FFFFFF WIDTH=15 ALIGN=CENTER>8</TD>
<TD BGCOLOR=#FFFF00 WIDTH=15 ALIGN=CENTER>7</TD>
<TD BGCOLOR=#00FF00 WIDTH=15 ALIGN=CENTER>3</TD>
</TR>
<TR><TD>-5</TD>
<TD BGCOLOR=#FF0000 WIDTH=15 ALIGN=CENTER>2</TD>
<TD BGCOLOR=#FF00FF WIDTH=15 ALIGN=CENTER>6</TD>
<TD BGCOLOR=#0000FF WIDTH=15 ALIGN=CENTER><FONT COLOR=WHITE>4</TD>
</TR>
<TR><TD>-6</TD>
<TD BGCOLOR=#00FF00 WIDTH=15 ALIGN=CENTER>3</TD>
<TD BGCOLOR=#00FFFF WIDTH=15 ALIGN=CENTER>5</TD>
<TD BGCOLOR=#0000FF WIDTH=15 ALIGN=CENTER><FONT COLOR=WHITE>4</TD>
</TR>
</TABLE><P>
The spectrum of the used color encoding
can be plotted with the additional option <b>-k</b>.</TD></TR>

<TR VALIGN=TOP><TD ALIGN=CENTER><b>-f</b></TD>
<TD ALIGN=CENTER>integer</TD>
<TD ALIGN=CENTER>9</TD>
<TD>Draw bounding box with linewidth given by the option <b>-F</b>. 
A negative value means no boundary box is drawn. 
Positive values correspond to colors according to the 
color scheme of the option <b>-C</>. </TD></TR>

<TR VALIGN=TOP><TD ALIGN=CENTER><b>-F</b></TD>
<TD ALIGN=CENTER>real</TD>
<TD ALIGN=CENTER>2.0</TD>
<TD>Linewidth of bounding box (in pt). 
Negative values correspond to dashed lines.</TD></TR>

<TR VALIGN=TOP><TD ALIGN=CENTER><b>-g</b></TD>
<TD ALIGN=CENTER>real,&nbsp;>=-1.0</TD>
<TD ALIGN=CENTER>0.0</TD>
<TD>Background color. White by default. Positive integer values
correspond to colors according to the color scheme of parameter <b>-C</b>. 
Figures after the comma mean a shading of the corrresponding color. 
Negative values from -1 to 0 correspond to a shading from black to white.
</TD></TR>

<TR VALIGN=TOP><TD ALIGN=CENTER><b>-G</b></TD>
<TD ALIGN=CENTER>integer, >0</TD>
<TD ALIGN=CENTER>-</TD>
<TD>Draw color encoding of the 11th column (9th column in 2D) 
of input file. Similar to the option <b>-E</b>.</TD></TR>

<TR VALIGN=TOP><TD ALIGN=CENTER><b>-h</b></TD>
<TD ALIGN=CENTER>real, >=0</TD>
<TD ALIGN=CENTER>-</TD>
<TD>Produce eps files with the given height in cm.</TD></TR>

<TR VALIGN=TOP><TD ALIGN=CENTER><b>-H</b></TD>
<TD ALIGN=CENTER>real, >=0.0</TD>
<TD ALIGN=CENTER>0.1</TD>
<TD>Linewidth used for borders of atoms, bonds, and bond 
    separators (in pt). See also the options <b>-L</b>, <b>-l</b>, and
    <b>-P</b> for separate adjustments.</TD></TR>

<TR VALIGN=TOP><TD ALIGN=CENTER><b>-i, -j</b></TD>
<TD ALIGN=CENTER>real</TD>
<TD ALIGN=CENTER>0, 0</TD>
<TD>Translation in x and y direction.</TD></TR>

<TR VALIGN=TOP><TD ALIGN=CENTER><b>-I</b></TD>
<TD ALIGN=CENTER>real, >0</TD>
<TD ALIGN=CENTER>1.0</TD>
<TD>Brightness of shading of atoms.</TD></TR>

<TR VALIGN=TOP><TD ALIGN=CENTER><b>-J</b></TD>
<TD ALIGN=CENTER>real, [-1,1]</TD>
<TD ALIGN=CENTER>0</TD>
<TD>Brightness of atom colors. Positive values mean bright colors and
negative values mean dark colors.</TD></TR>

<TR VALIGN=TOP><TD ALIGN=CENTER><b>-k</b></TD>
<TD ALIGN=CENTER>real</TD>
<TD ALIGN=CENTER>-</TD>
<TD>Draw a spectrum of the colors belonging to the different color
encodings. The spectrum is placed below the bounding box, separated by
a line. The Linethickness is given by the value of the option <b>-K</b> 
(in pt).
</TD></TR>

<TR VALIGN=TOP><TD ALIGN=CENTER><b>-K</b></TD>
<TD ALIGN=CENTER>-</TD>
<TD ALIGN=CENTER>-</TD>
<TD>Write a file with all settings of the options. The filename is the
output filename with the extension .eps.opt. The .eps.opt file contains the
complete command to run <B>imd_ps</B> with the current options.</TD></TR>

<TR VALIGN=TOP><TD ALIGN=CENTER><b>-l</b></TD>
<TD ALIGN=CENTER>real, >=0.0</TD>
<TD ALIGN=CENTER>0.1</TD>
<TD>Linewidth used for bond borders (in pt).</TD></TR>

<TR VALIGN=TOP><TD ALIGN=CENTER><b>-L</b></TD>
<TD ALIGN=CENTER>real, >=0</TD>
<TD ALIGN=CENTER>0.1</TD>
<TD>Linewidth used for atom borders (in pt).</TD></TR>

<TR VALIGN=TOP><TD ALIGN=CENTER><b>-m</b></TD>
<TD ALIGN=CENTER>real, >=0</TD>
<TD ALIGN=CENTER>1</TD>
<TD>Zoom.</TD></TR>

<TR VALIGN=TOP BGCOLOR=LIGHTGREY><TD ALIGN=CENTER><b>-M</b></TD>
<TD ALIGN=CENTER>real, >=0</TD>
<TD ALIGN=CENTER>1</TD>
<TD>Parameter to enhance the shrinking of atoms and bonds with depth.</TD></TR>

<TR VALIGN=TOP BGCOLOR=LIGHTGREY><TD ALIGN=CENTER><b>-n</b></TD>
<TD ALIGN=CENTER>real >=0</TD>
<TD ALIGN=CENTER>-</TD>
<TD>Draw lightshadow. <b>n</b> determines the linewidth (in pt).</TD></TR>

<TR VALIGN=TOP BGCOLOR=LIGHTGREY><TD ALIGN=CENTER><b>-N</b></TD>
<TD ALIGN=CENTER>real, [0,1]</TD>
<TD ALIGN=CENTER>1</TD>
<TD>Draw bonds as needles.</TD></TR>

<TR VALIGN=TOP><TD ALIGN=CENTER><b>-o</b></TD>
<TD ALIGN=CENTER>integer</TD>
<TD ALIGN=CENTER>-1</TD>
<TD>Draw simulation box with linewidth given by the option <b>-O</b>. 
A negative value means no simulation box is drawn. 
Positive values correspond to colors according to the color scheme 
of the option <b>-C</b>.</TD></TR>

<TR VALIGN=TOP><TD ALIGN=CENTER><b>-O</b></TD>
<TD ALIGN=CENTER>real</TD>
<TD ALIGN=CENTER>1.0</TD>
<TD>Linewidth used for simulation box (in pt). 
Negative values correspond to dashed lines.</TD></TR>

<TR VALIGN=TOP><TD ALIGN=CENTER><b>-P</b></TD>
<TD ALIGN=CENTER>real >=0</TD>
<TD ALIGN=CENTER>0.1</TD>
<TD>Linewidth used for bond separator (in pt).</TD></TR>

<TR VALIGN=TOP><TD ALIGN=CENTER><b>-q</b></TD>
<TD ALIGN=CENTER>integer</TD>
<TD ALIGN=CENTER>-1</TD>
<TD>Draw border to boxes with linewidth specified by the option <b>-Q</b>. 
A negative value means no border is drawn. 
Positive values correspond to colors according to the color scheme 
of parameter <b>-C</b>.</TD></TR>

<TR VALIGN=TOP><TD ALIGN=CENTER><b>-Q</b></TD>
<TD ALIGN=CENTER>real</TD>
<TD ALIGN=CENTER>1.0</TD>
<TD>Linewidth used for border of boxes (in pt). 
Negative values correspond to dashed lines.</TD></TR>

<TR VALIGN=TOP><TD ALIGN=CENTER><b>-R</b></TD>
<TD>real, >= 0.0</TD>
<TD ALIGN=CENTER>estimated</TD>
<TD>Radius of spheres
representing atoms in real (IMD) units.</TD></TR>

<TR VALIGN=TOP><TD ALIGN=CENTER><b>-s</b></TD>
<TD ALIGN=CENTER>real, >=0</TD>
<TD ALIGN=CENTER>1</TD>
<TD>Scaling of the picture. In contrast to the zoom <b>-m</b>, 
the size of the entire picture 
is also scaled.</TD></TR>

<TR VALIGN=TOP><TD ALIGN=CENTER><b>-S</b></TD>
<TD ALIGN=CENTER>real, >=0</TD>
<TD ALIGN=CENTER>45</TD>
<TD>Shading of atoms. The value of <b>-S</b> corresponds to the 
angle of the light position.</TD></TR>

<TR VALIGN=TOP><TD ALIGN=CENTER><b>-t</b></TD>
<TD ALIGN=CENTER>integer</TD>
<TD ALIGN=CENTER>-</TD>
<TD>Draw color encoding of kinetic energy. Similar to the option 
<b>-E</b>.</TD/</TR>

<TR VALIGN=TOP BGCOLOR=LIGHTGREY><TD ALIGN=CENTER><b>-T</b></TD>
<TD ALIGN=CENTER>real, >= 0.0</TD>
<TD ALIGN=CENTER>estimated</TD>
<TD>z-coordinate of projection plane (in real (IMD) units). The
value of <b>-T</b> must be smaller than the value of <b>-Z</b>.
</td/</tr>

<TR VALIGN=TOP><TD ALIGN=CENTER><b>-u</b></TD>
<TD ALIGN=CENTER>integer</TD>
<TD ALIGN=CENTER>-1</TD>
<TD>Draw bounding box of unrotated sytem with linewidth <TT>U</TT>. 
A negative value means no simulation box is drawn. 
Positive values correspond to colors according to the color 
scheme of the option <b>-C</b>.</TD></TR>

<TR VALIGN=TOP><TD ALIGN=CENTER><b>-U</b></TD>
<TD ALIGN=CENTER>real</TD>
<TD ALIGN=CENTER>1.0</TD>
<TD>Linewidth used for bounding box of unrotated system (in pt). Negative
values correspond to dashed lines.</TD></TR>

<TR VALIGN=TOP><TD ALIGN=CENTER><b>-V</b></TD>
<TD ALIGN=CENTER>integer</TD>
<TD ALIGN=CENTER>0</TD>
<TD>Color of bonds. The value 0 means the bonds are colored like the
atoms. Other values correspond to colors according to the color scheme
of the option <b>-C</b>.</TD></TR>

<TR VALIGN=TOP><TD ALIGN=CENTER><b>-w</b></TD>
<TD ALIGN=CENTER>real, >=0</TD>
<TD ALIGN=CENTER>-</TD>
<TD>Produce eps files with the given width in cm.</TD></TR>

<TR VALIGN=TOP><TD ALIGN=CENTER><b>-W</b></TD>
<TD ALIGN=CENTER>real, >=0</TD>
<TD ALIGN=CENTER>-</TD>
<TD>Produce wireframes with the specified line width (in real (IMD)
units). If the atom radius
given by the option <b>-R</b> is larger than the value of <b>-W</b>, atoms
are drawn as specified by the corresponding options.</TD></TR>

<TR VALIGN=TOP><TD ALIGN=CENTER><b>-x, -y, -z</b></TD>
<TD ALIGN=CENTER>real, real, real</TD>
<TD ALIGN=CENTER>0, 0, 0</TD>
<TD>Rotation angles about <I>x</I>, <I>y</I>, and <I>z</I> axis 
(only <I>z</I> axis in 2D version)
of IMD configuration in 
degrees.</TD></TR>

<TR VALIGN=TOP BGCOLOR=LIGHTGREY><TD ALIGN=CENTER><b>-X,&nbsp;-Y,&nbsp;-Z</b></TD>
<TD ALIGN=CENTER>real, real, >0</TD>
<TD ALIGN=CENTER>0, 0, estimated</TD>
<TD>Location of focal point of perspective projection (in real (IMD)
units).
</TD></TR>

</table>

<p>

<a name="imd_ring">
<h2>imd_ring</h2>
</a>

Computes ring statistics of IMD configurations. 

<p>

<b>imd_ring</b> searches all shortest closed paths in a 
configuration and gives a statistics. It only works with
open boundary conditions.

<p>

The following special options can be used:

<table border="0" cellspacing="10" cellpadding="3">
<tr>
   <th>Option</th>
   <th>Values</th>
   <th>Default</th>
   <th>Description</th>
</tr>
<tr valign="top">
   <td align="center"><b>-e</b></td>
   <td align="center">real &gt; 0.0</td>
   <td align="center">1.0</td>
   <td>Specifies the <u>maximal distance</u> for which neighbouring 
   atoms are taken into account. If the component <b>_tersoff</b> 
   is given in the compilation target, the cutoff radii of
   the Tersoff potential are employed.</td>
</tr>
<tr valign="top">
   <td align="center"><b>-l</b></td>
   <td align="center">integer &gt; 0</td>
   <td align="center">10</td>
   <td>Specifies the <u>maximal length</u> <tt>lmax</tt> of rings that are
   computed.</td>
</tr>
<tr valign="top">
   <td align="center"><b>-n</b></td>
   <td align="center">integer &gt; 0</td>
   <td align="center">6</td>
   <td>Specifies the <u>maximal number of neighbours</u> for which memory
   of neighbour tables is allocated. In the case of the Tersoff
   potential, this value is taken from the parameter file.</td>
</tr>
</table>

<p>

<b>imd_ring</b> writes a table to standard output with the following format: 
<pre>
     Ring length   Total occurrence  Relative occurrence
          3              n_3                p_3
	  4		 n_4		    p_4
	  
	  .               .                  .
	  .		  .		     .
	  .		  .		     .
	  
	  lmax           n_lmax             p_lmax
</pre>
where <tt>n_i</tt> is the number of rings of length <tt>i</tt> and
<tt>p_i</tt> is <tt>n_i</tt> divided by the total number of rings up
to the length <tt>lmax</tt>. <b>imd_ring</b> writes the table of
the relative occurrences of the ring lengths into a file with suffix 
<tt>.ring</tt>.

<p>

<a name="imd_strain">
<h2>imd_strain</h2>
</a>

Computes the strain tensor from the atomic
displacements. 

<p>

The displacements must be given in a file with the 
following format:
<pre>
    x y (z) dx dy (dz)
</pre>
where <tt>x</tt>, <tt>y</tt>, <tt>z</tt> are the positions of the
atoms and <TT>dx</TT>, <TT>dy</TT>, <TT>dz</TT> are the displacements.
The displacement file must have the name
<TT>&lt;outfiles&gt;.dsp</TT>.
Alternatively, the displacement file can be created using
the IMD option <b>disloc</b>. Then the restart parameter 
<b>-r</b><tt>&lt;nn&gt;</TT>
should be given where <TT>&lt;nn&gt;</TT> is the number of steps
corresponding to the displacement file.

<p>

The following special options can be used:

<table border="0" cellspacing="10" cellpadding="3">
<tr>
   <th>Option</th>
   <th>Values</th>
   <th>Default</th>
   <th>Description</th>
</tr>
<tr valign="top">
   <td align="center"><b>-e</b></td>
   <td align="center">real &gt; 0.0</td>
   <td align="center">1.0</td>
   <td>Specifies the <u>maximal distance</u> <tt>rmax</tt> for which 
   neighbouring atoms are taken into account in the computation
   of the derivatives of the displacements.</td>
</tr>
<tr valign="top">
   <td align="center"><b>-c</b></td>
   <td align="center">real &gt; 0.0</td>
   <td align="center"><tt>rmax</tt></td>
   <td>Specifies the <u>width of the
   cells</u> in the cell decomposition used in the computation.
   For very large systems, it is advisable to use a value larger than
   <tt>rmax</tt></td>
</tr>
</table>

The output file name of <b>imd_strain</b> is the displacement file 
name with the suffix <TT>.strain</TT>.

<p>

The output file has the following format:
<pre>
    n x y (z) e_xx e_yy (e_zz) (e_yz) (e_zx) e_xy
</pre>
where n is a number (not the IMD atom number), <TT>x</TT>, <TT>y</TT>,
<TT>z</TT> are the coordinates, and <TT>e_ij</TT> are the components
of the strain tensor.

<p>

<b>imd_strain</b> only computes the strain tensor if an atom possesses more
than two neighbours. Atoms with less than three neighbours are omitted
from the outfile.

<p>

<a name="imd_stress">
<h2>imd_stress</h2>
</a>

Computes the stress tensor from an IMD <TT>.press</TT>
file. 

<p>

IMD determines the (raw) stress tensor by evaluating the virial 
corresponding to the atomic forces. <b>imd_stress</b> computes the true 
stress tensor by dividing the raw stress tensor of each atom by 
the volume of the Voronoi cell of the respective atom.
The raw stress tensor must be given in a file with the 
following format:
<pre>
    x y (z) s_xx s_yy (s_zz) (s_yz) (s_zx) s_xy
</pre>
where <tt>x</tt>, <tt>y</tt>, <tt>z</tt> are the positions of the
atoms and <tt>s_ij</tt> are the components of the raw stress tensor.
The stress file name must have the suffix
<tt>.press</tt>.
Alternatively, the raw stress file can be created using
the IMD option <b>stress</b> (with the parameter vector
<tt>press_dim</tt> set equal to zero). 
Then the restart parameter <b>-r</b> <tt>&lt;nn&gt;</tt>
should be given where <tt>&lt;nn&gt;</tt> is the number of steps
corresponding to the stress file.
<p>

The following special option can be used:

<table border="0" cellspacing="10" cellpadding="3">
<tr>
   <th>Option</th>
   <th>Values</th>
   <th>Default</th>
   <th>Description</th>
</tr>
<tr valign="top">
   <td align="center"><b>-e</b></td>
   <td align="center">real &gt; 0.0</td>
   <td align="center">1.0</td>
   <td>Specifies the <u>maximal distance</u> 
   for which neighbouring atoms are taken into account in the computation
   of the Voronoi cells.</td>
</tr>
</table>

The output file name of <b>imd_stress</b> is the raw stress file name
with the suffix <tt>.stress</tt>.
<p>
The output file has the following format:
<pre>
    x y (z) s_xx s_yy (s_zz) (s_yz) (s_zx) s_xy v
</pre>
where <tt>s_ij</tt> are the components
of the true stress tensor of the atom with coordinates <TT>x</TT>,
<TT>y</TT>, <TT>z</TT> and <TT>v</TT> is the volume of the 
corresponding Voronoi cell.
<p>
<b>imd_stress</b> only computes the stress tensor if the Euler relation for a
Voronoi cell is fullfilled. Otherwise, atoms are removed from the outfile.

<P>

<a name="imd_torsion">
<h2>imd_torsion</h2>
</a>

Computes torsion distribution histograms of IMD configurations. 

<p>

The following special options can be used:

<table border="0" cellspacing="10" cellpadding="3">
<tr>
   <th>Option</th>
   <th>Values</th>
   <th>Default</th>
   <th>Description</th>
</tr>
<tr>
   <td><b>-n</b></td>
   <td>integer &gt; 0</td>
   <td>1000</td>
   <td>Specifies the <u>number of slots</u> in the torsion distribution 
   histogram.</td>
</tr>
<tr>
   <td><b>-e</b></td>
   <td>real &gt; 0.0</td>
   <td>1.0</td>
   <td>Specifies the <u>maximal radius</u> for which torsion angles between 
	neighbouring atoms are computed.</td>
</tr>
</table>

<p>

The output file name of <b>imd_torsion</b> has the suffix <tt>.torsion</tt>.

<p>

For every slot in the histogram, one line is written:
<pre>
    phi g_0000 g_0001 ... g_000N g_0011 ... g_001N ... g_00NN g_0100 ... g_NNNN
</pre>
The first entry <tt>phi</tt> is the angle with range [0,180], the 
remaining entries are
the histogram values for the different combinations of atom types.
The histogram entry
<tt>g_ijkl</tt> is the normalized number of times the torsion angle
<tt>phi</tt> occurs between the atoms of type <tt>i</tt>, <tt>j</tt>,
<tt>k</tt>, and <tt>l</tt>. 

<p>
<center>
<img src="torsion.gif" width="300">
</center>
<p>

<tt>g_ijkl</tt>
is normalized with respect to the total number of torsion angles computed.
In the case of 2 types of particles, for example, the histogram has the
following format:
<pre>
  phi g_0000 g_0001 g_0011 g_0100 g_0101 g_0110 g_0111 g_1100 g_1101 g_1111
</pre>

<p>

<!--#include virtual="imdfoot.html" -->
