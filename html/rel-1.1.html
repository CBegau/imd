<HTML>
<HEAD>
   <TITLE> Release Notes for IMD 1.1 </TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">

<H1>Release Notes for IMD 1.1</H1>

This document describes changes of IMD 1.1 from the previous version 1.0.
This description is intended for users who have already worked with IMD 1.0.

<P><H2>New Features</H2>
<P><UL>
<LI> <B>New Parameter File Format</B>
<P>
A new parameter file format has been introduced, wich
         requires &lt;parameter-name&gt; &lt;value&gt; pairs. This has the
         advantage that parameters can be given in any order,
         and even parameters not needed in the current mode
         are permitted. Therefore, the same parameter files
         can be used for different modes, ensembles etc.
<P>
A list of all valid parameters, along with a short
         description, can be found in file Parameters.
<P>
A parameter file in the new format is invoked with, e.g.,
<P>
imd_risc_nvt -p new_param_file
<P>
where new_param_file is the complete file name including
         the extension. Without the -p switch, a .mdp file in old 
         format is expected. Is is strongly recommended, however,
         that old parameter files are translated into the new
         format, and that the old format is no longer used.
<P>
<LI> <B>Constant Pressure Simulations</B>
<P>
Two NPT ensembles have been implemented. npt_iso allows
         an isotropic scaling of the simulation box, whereas
         npt_axial allows independent scalings along all axes
         of a rectangular box. The following new parameters are required:
<P><UL>
<LI> pressure_start is the initial external pressure, and can be a 
           single value (isotropic pressure) or a vector (independent
           pressures along all axes). In the npt_iso case, only the 
           first component of a vector pressure_ext is used.
<LI> pressure_end is the external pressure at the end of the
           simulation, and can also be a scalar or a vector. 
<LI> tau_xi is the time constant for the volume control.
<LI> isq_tau_xi is 1/tau_xi^2; this is an alternative parameter to tau_xi.
<LI> cell_size_tol is the amount (as a fraction of the linear
           box size) by which the cells must be able to shrink
           before a change of the cell subdivision becomes
           necessary. Too large a cell_size_tol dramatically
           increases the time required for the computation of
           the forces, while too small a cell_size_tol might
           might require frequent changes of the cell
           subdivision.
</UL>
<P>
If IMD is compiled with the symbol DYNAMIC_CELLS defined,
         the cell subdivision is dynamically adapted when
         cell_size_tol is exceeded in either direction. 
         If DYNAMIC_CELLS is not set, IMD just stops and must be 
         restarted if the cells have become too small, or
         continues with suboptimal performance if the cells have become
         too big. For performance reasons, frequent stops or changes 
         of the cell subdivision should be avoided.
<P>
DYNAMIC_CELLS is defined by default.
<P>
<LI> <B>New 2D Picture Routines</B>
<P>
A new parameter pic_type has been introduced, which selects
         the type of pictures to be written.
<P><DL>
<DT>pic_type 0:
<DD>This is not really a picture. Rather, the raw
data needed for a picture, i.e., the position,
                     the kinetic and potential energies, and the
                     type of an atom is written in binary format
                     to a file with extension .pic. See also 
                     EPOT_DIFF below.
<P>
If parameter parallel_io = 2, the .pic files
                     are written in parallel (each CPU writes its
                     own atoms to a separate file). All other
                     input/output is serial, however.
<P>
If parameter parallel_io = 1, all input/output
                     is parallel, if parallel_io = 0, all input/output
                     is serial.
<P>
Only atoms in a frame spanned by the paramters
                     pic_ll (lower left corner) and pic_ur (upper
                     right corner) are written. By default, this
                     frame is set to the whole system.
<P>
There is an imd2ppm version which converts .pic
                     files into .ppm files.
<P>         <DT>pic_type 1:
<DD>Yet to be implemented. This will draw single
                     atoms like in imd2ppm by Christof Horn.
<P>         <DT>pic_type 2:
<DD>This is the old write_prictures routine, which
                     puts atoms into bins, and draws a box for each bin.
                     This is suitable for very big systems.
<P>
Bugs: this routine should use the new pic_ll,
                     pic_ur and pic_res parameters, rather than
                     pic_scale and a fixed resolution.
<P></DL>
<P>
<LI> <B>New Utility routines</B>
<P>
Besides the C++ version of imd2ppm, which needs text files
         as input, there is now a C version, which reads binary files
         in the format of the .pic files (see above).
<P>
<LI> <B>Makefile Features</B>
<P>
<TT>gmake EXTRAFLAGS="some-string" imd_risc_nvt</TT> <BR> 
         adds some-string to the CFLAGS in the compilation.
<P>
Example: <BR> <TT> gmake EXTRAFLAGS=-DEPOT_DIFF imd_risc_nvt </TT>
         <BR>compiles imd_risc_nvt with the symbol EPOT_DIFF defined.
<P>
<TT>gmake archive</TT> 
         puts the IMD sources and docs into a compressed
         tar file imd-arch.tar.gz.
<P>
<LI> <B>EPOT_DIFF Flag</B>
<P>
If the flag EPOT_DIFF is defined, the initial potential
         energy (i.e, after one step) of each particle is stored.
         write_pictures_raw writes the difference of the current
         and the initial potential energy, rather than the 
         current potential energy.
<P>
<LI> <B>ZOOM Flag</B>
<P>
If the flag ZOOM is defined, only partial configurations
         consisting of the atoms inside the frame defined by pic_ll 
         and pic_ur (see above) are written. It is probably better
         to use the .pic files to make partial pictures, though.
         ZOOM is available only in 2d at present.
<P></UL>

<H2>Important Bug Fixes</H2>
<P>
The pressure written to *.eng files is now correct. This is the
      same pressure as used in NPT ensembles.
<P>
In MPI mode the cell grid is now determined such that it is
      always commensurate with the CPU grid. In other words, the
      dimensions of the cell grid are always divisible by the
      corresponding divisions of the CPU grid. It is thus no longer
      necessary to tweak the range of the potential to achieve this.

<P>
<A HREF="imd.html">Back to IMD User's Guide</A> 

</BODY>
</HTML>